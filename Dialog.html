<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/themes/cupertino/jquery-ui.css">
    <?!= include('Stylesheet') ?>
  </head>
  
  <body>
    <h1>What up my glip glop!</h1>
    <p>Please enjoy this mildly helpful script :)</p>
    <div class="demo">
    
      <p>Select a Monday start date and Monday end date below:</p>
      <p> Start Date: <input type="text" name="StartDateInput" id="startdatepicker"/> </p>
      <p> End Date:   <input type="text" name="EndDateInput" id="enddatepicker"/> </p>
      
      
      
      <button class="action" onclick="clickAction()"> Submit</button>

      <input type="button" value="Close" onclick="google.script.host.close()" />
    </div>
    
    <div id='result'></div>
    
    <div id="output"></div>
    
    <script> google.script.run.doSomething(); </script>
     
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
    
    <script>
    $( "#startdatepicker" ).datepicker({
      showWeek: true,
      firstDay: 0,
     });
     </script>
     <script>
    $( "#enddatepicker" ).datepicker({
      showWeek: true,
      firstDay: 0,
     });
     </script>
     
     
     <script>
     function runScript() {
       //Logger.log("this worked");
       google.script.run.withSuccessHandler(submitDates).testFunc(); 
     };
     </script>
     
     
     <script>
  function onSuccess() {
    var div = document.getElementById('result');
    div.innerHTML = '<div>Sucess!</div>';
  }

  function onFailure() {
    var div = document.getElementById('result');
    div.innerHTML = '<div>Fail!</div>';
  }
  
  
  function clickAction(){
    var startDateInput = $("#startdatepicker").val();
    var endDateInput = $("#enddatepicker").val();

    var div = document.getElementById('result');
    
    div.innerHTML = '<div> Loading... See how many backflips you can do! <br><img src="https://media.giphy.com/media/4T1NFafropdQOrBYw6/giphy.gif" class="load-icon"></div>';
    
    google.script.run
    .withSuccessHandler(onSuccess)
    .withFailureHandler(onFailure)
    .runScriptFromInput(startDateInput, endDateInput);
    alert('You chose start date: ' + startDateInput + ' and end date: '+ endDateInput+'.')
  }
     </script>



  </body>
</html>
